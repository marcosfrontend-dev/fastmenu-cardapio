<!doctype html>
<html lang="pt-br" class="scroll-smooth">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FastMenu | Card√°pio Digital</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" />
    <style>
        body {
            font-family: "Poppins", sans-serif;
            background-color: #f8f9fa;
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .anchor-target {
            display: block;
            position: relative;
            visibility: hidden;
            top: -250px;
        }

        @media (max-width: 768px) {
            .anchor-target {
                top: -250px;
            }
        }
    </style>
</head>

<body class="pb-24">
    <div class="sticky top-0 z-40 bg-white/95 backdrop-blur-md shadow-sm border-b border-gray-100">
        <header class="pt-6 px-4 pb-4 max-w-5xl mx-auto text-center">
            <div class="w-10 h-10 bg-[#F26419] rounded-full flex items-center justify-center mb-1 mx-auto shadow-lg">
                <span class="text-white font-bold text-lg">F</span>
            </div>
            <h1 class="font-bold text-gray-800 text-base">FastMenu</h1>

            <div id="status-container"
                class="flex items-center justify-center gap-1.5 px-3 py-1 rounded-full mt-1 w-max mx-auto">
                <span id="status-ponto" class="w-2 h-2 rounded-full animate-pulse"></span>
                <span id="status-texto" class="text-[10px] font-bold uppercase tracking-wider">Verificando...</span>
            </div>

            <div class="mt-4 relative px-2 max-w-xl mx-auto">
                <span class="absolute inset-y-0 left-4 flex items-center">
                    <svg class="h-4 w-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </span>
                <input type="text" id="search-input" oninput="filtrarProdutos()"
                    class="block w-full pl-10 pr-3 py-2.5 border-none bg-gray-100 rounded-xl text-sm placeholder-gray-500 focus:ring-2 focus:ring-[#F26419]"
                    placeholder="O que voc√™ quer comer hoje?" />
            </div>
        </header>

        <nav class="px-4 pb-4 max-w-5xl mx-auto">
            <div class="md:hidden relative">
                <button onclick="toggleMenuMobile()"
                    class="flex items-center gap-2 bg-gray-100 px-4 py-2.5 rounded-xl text-gray-700">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16m-7 6h7" />
                    </svg>
                    <span class="text-xs font-bold uppercase tracking-tight">Categorias</span>
                </button>
                <div id="menu-mobile"
                    class="hidden absolute left-0 mt-2 w-56 bg-white rounded-2xl shadow-xl border border-gray-100 py-2 z-50">
                    <a href="#burgers-anchor" onclick="toggleMenuMobile()"
                        class="block px-4 py-3 text-sm text-gray-700">üçî Hamb√∫rgueres</a>
                    <a href="#acompanhamentos-anchor" onclick="toggleMenuMobile()"
                        class="block px-4 py-3 text-sm text-gray-700">üçü Acompanhamentos</a>
                    <a href="#bebidas-anchor" onclick="toggleMenuMobile()"
                        class="block px-4 py-3 text-sm text-gray-700">ü•§ Bebidas</a>
                    <a href="#sobremesas-anchor" onclick="toggleMenuMobile()"
                        class="block px-4 py-3 text-sm text-gray-700">üç∞ Sobremesas</a>
                </div>
            </div>

            <div class="hidden md:flex items-center justify-center gap-3">
                <button onclick="scrollToAnchor('burgers-anchor')"
                    class="flex items-center gap-2 bg-[#F26419] text-white px-5 py-2.5 rounded-full shadow-md text-sm font-semibold">
                    <span>üçî</span> Hamb√∫rgueres
                </button>
                <button onclick="scrollToAnchor('acompanhamentos-anchor')"
                    class="flex items-center gap-2 bg-white text-gray-600 px-5 py-2.5 rounded-full border border-gray-100 shadow-sm text-sm font-semibold">
                    <span>üçü</span> Acompanhamentos
                </button>
                <button onclick="scrollToAnchor('bebidas-anchor')"
                    class="flex items-center gap-2 bg-white text-gray-600 px-5 py-2.5 rounded-full border border-gray-100 shadow-sm text-sm font-semibold">
                    <span>ü•§</span> Bebidas
                </button>
                <button onclick="scrollToAnchor('sobremesas-anchor')"
                    class="flex items-center gap-2 bg-white text-gray-600 px-5 py-2.5 rounded-full border border-gray-100 shadow-sm text-sm font-semibold">
                    <span>üç∞</span> Sobremesas
                </button>
            </div>
        </nav>
    </div>

    <main class="mt-8 px-4 space-y-12 max-w-5xl mx-auto">
        <section>
            <span id="burgers-anchor" class="anchor-target"></span>
            <h2 class="text-gray-800 font-bold text-xl mb-4 px-1">
                üçî Hamb√∫rgueres
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div
                    class="product-card flex items-center bg-white p-3 rounded-3xl shadow-sm border border-gray-50 relative">
                    <img src="https://images.unsplash.com/photo-1568901346375-23c9450c58cd?q=80&w=200&h=200&fit=crop"
                        class="w-20 h-20 object-cover rounded-2xl" />
                    <div class="ml-4 flex-1 pr-10">
                        <h3 class="product-name font-bold text-gray-800 text-sm">
                            Classic Burger
                        </h3>
                        <p class="text-gray-400 text-[10px] mt-1">
                            P√£o brioche, blend 180g e cheddar.
                        </p>
                        <span class="text-[#F26419] font-bold mt-1 block">R$ 32,90</span>
                    </div>
                    <button onclick="abrirOpcionais('Classic Burger', 32.9)"
                        class="absolute bottom-3 right-3 bg-[#F26419] text-white p-2 rounded-xl shadow-lg active:scale-90 transition-transform">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M12 4v16m8-8H4" />
                        </svg>
                    </button>
                </div>
                <div
                    class="product-card flex items-center bg-white p-3 rounded-3xl shadow-sm border border-gray-50 relative">
                    <img src="https://images.unsplash.com/photo-1594212699903-ec8a3eca50f5?q=80&w=200&h=200&fit=crop"
                        class="w-20 h-20 object-cover rounded-2xl" />
                    <div class="ml-4 flex-1 pr-10">
                        <h3 class="product-name font-bold text-gray-800 text-sm">
                            Bacon Prime
                        </h3>
                        <p class="text-gray-400 text-[10px] mt-1">
                            Blend de angus, bacon crocante e BBQ.
                        </p>
                        <span class="text-[#F26419] font-bold mt-1 block">R$ 38,50</span>
                    </div>
                    <button onclick="abrirOpcionais('Bacon Prime', 38.5)"
                        class="absolute bottom-3 right-3 bg-[#F26419] text-white p-2 rounded-xl shadow-lg active:scale-90 transition-transform">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M12 4v16m8-8H4" />
                        </svg>
                    </button>
                </div>
            </div>
        </section>

        <section>
            <span id="acompanhamentos-anchor" class="anchor-target"></span>
            <h2 class="text-gray-800 font-bold text-xl mb-4 px-1">
                üçü Acompanhamentos
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div
                    class="product-card flex items-center bg-white p-3 rounded-3xl shadow-sm border border-gray-50 relative">
                    <img src="https://images.unsplash.com/photo-1573019606806-9695d0a9739d?q=80&w=200&h=200&fit=crop"
                        class="w-20 h-20 object-cover rounded-2xl" />
                    <div class="ml-4 flex-1 pr-10">
                        <h3 class="product-name font-bold text-gray-800 text-sm">
                            Batata R√∫stica
                        </h3>
                        <p class="text-gray-400 text-[10px] mt-1">
                            Crocantes com alecrim.
                        </p>
                        <span class="text-[#F26419] font-bold mt-1 block">R$ 18,00</span>
                    </div>
                    <button onclick="adicionarAoCarrinho('Batata R√∫stica', 18.0)"
                        class="absolute bottom-3 right-3 bg-[#F26419] text-white p-2 rounded-xl shadow-lg">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M12 4v16m8-8H4" />
                        </svg>
                    </button>
                </div>
                <div
                    class="product-card flex items-center bg-white p-3 rounded-3xl shadow-sm border border-gray-50 relative">
                    <img src="https://images.unsplash.com/photo-1639744091981-2f826321fae6?q=80&w=200&h=200&fit=crop"
                        class="w-20 h-20 object-cover rounded-2xl" />
                    <div class="ml-4 flex-1 pr-10">
                        <h3 class="product-name font-bold text-gray-800 text-sm">
                            Onion Rings
                        </h3>
                        <p class="text-gray-400 text-[10px] mt-1">Cebolas empanadas.</p>
                        <span class="text-[#F26419] font-bold mt-1 block">R$ 22,00</span>
                    </div>
                    <button onclick="adicionarAoCarrinho('Onion Rings', 22.0)"
                        class="absolute bottom-3 right-3 bg-[#F26419] text-white p-2 rounded-xl shadow-lg">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M12 4v16m8-8H4" />
                        </svg>
                    </button>
                </div>
            </div>
        </section>

        <section>
            <span id="bebidas-anchor" class="anchor-target"></span>
            <h2 class="text-gray-800 font-bold text-xl mb-4 px-1">ü•§ Bebidas</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div
                    class="product-card flex items-center bg-white p-3 rounded-3xl shadow-sm border border-gray-50 relative">
                    <img src="https://images.unsplash.com/photo-1622483767028-3f66f32aef97?q=80&w=200&h=200&fit=crop"
                        class="w-20 h-20 object-cover rounded-2xl" />
                    <div class="ml-4 flex-1 pr-10">
                        <h3 class="product-name font-bold text-gray-800 text-sm">
                            Coca-Cola
                        </h3>
                        <p class="text-gray-400 text-[10px] mt-1">Lata 350ml gelada.</p>
                        <span class="text-[#F26419] font-bold mt-1 block">R$ 7,00</span>
                    </div>
                    <button onclick="adicionarAoCarrinho('Coca-Cola', 7.0)"
                        class="absolute bottom-3 right-3 bg-[#F26419] text-white p-2 rounded-xl">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M12 4v16m8-8H4" />
                        </svg>
                    </button>
                </div>
                <div
                    class="product-card flex items-center bg-white p-3 rounded-3xl shadow-sm border border-gray-50 relative">
                    <img src="https://images.unsplash.com/photo-1513558161293-cdaf765ed2fd?q=80&w=200&h=200&fit=crop"
                        class="w-20 h-20 object-cover rounded-2xl" />
                    <div class="ml-4 flex-1 pr-10">
                        <h3 class="product-name font-bold text-gray-800 text-sm">
                            Suco Natural
                        </h3>
                        <p class="text-gray-400 text-[10px] mt-1">
                            400ml laranja ou lim√£o.
                        </p>
                        <span class="text-[#F26419] font-bold mt-1 block">R$ 12,00</span>
                    </div>
                    <button onclick="escolherSaborSuco('Suco Natural', 12.0)"
                        class="absolute bottom-3 right-3 bg-[#F26419] text-white p-2 rounded-xl">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M12 4v16m8-8H4" />
                        </svg>
                    </button>
                </div>
            </div>
        </section>

        <section>
            <span id="sobremesas-anchor" class="anchor-target"></span>
            <h2 class="text-gray-800 font-bold text-xl mb-4 px-1">üç∞ Sobremesas</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div
                    class="product-card flex items-center bg-white p-3 rounded-3xl shadow-sm border border-gray-50 relative">
                    <img src="https://images.unsplash.com/photo-1563805042-7684c019e1cb?q=80&w=200&h=200&fit=crop"
                        class="w-20 h-20 object-cover rounded-2xl" />
                    <div class="ml-4 flex-1 pr-10">
                        <h3 class="product-name font-bold text-gray-800 text-sm">
                            Brownie Supreme
                        </h3>
                        <p class="text-gray-400 text-[10px] mt-1">
                            Com sorvete de creme.
                        </p>
                        <span class="text-[#F26419] font-bold mt-1 block">R$ 24,90</span>
                    </div>
                    <button onclick="abrirOpcionaisSobremesa('Brownie Supreme', 24.9)"
                        class="absolute bottom-3 right-3 bg-[#F26419] text-white p-2 rounded-xl shadow-lg active:scale-90 transition-transform">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M12 4v16m8-8H4" />
                        </svg>
                    </button>
                </div>
                <div
                    class="product-card flex items-center bg-white p-3 rounded-3xl shadow-sm border border-gray-50 relative">
                    <img src="https://images.unsplash.com/photo-1551024506-0bccd828d307?q=80&w=200&h=200&fit=crop"
                        class="w-20 h-20 object-cover rounded-2xl" />
                    <div class="ml-4 flex-1 pr-10">
                        <h3 class="product-name font-bold text-gray-800 text-sm">
                            Petit G√¢teau
                        </h3>
                        <p class="text-gray-400 text-[10px] mt-1">
                            Chocolate e calda quente.
                        </p>
                        <span class="text-[#F26419] font-bold mt-1 block">R$ 22,00</span>
                    </div>
                    <button onclick="abrirOpcionaisSobremesa('Petit G√¢teau', 22.0)"
                        class="absolute bottom-3 right-3 bg-[#F26419] text-white p-2 rounded-xl shadow-lg active:scale-90 transition-transform">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M12 4v16m8-8H4" />
                        </svg>
                    </button>
                </div>
            </div>
        </section>
    </main>

    <div id="cart-bar"
        class="fixed bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-white via-white/90 to-transparent hidden z-50">
        <button onclick="toggleDrawer()"
            class="w-full max-w-md mx-auto bg-gray-900 text-white flex items-center justify-between p-4 rounded-2xl shadow-2xl">
            <div class="flex items-center gap-3">
                <div id="cart-count"
                    class="bg-[#F26419] w-7 h-7 rounded-lg flex items-center justify-center font-bold text-sm">
                    0
                </div>
                <span class="font-semibold text-sm">Ver sacola</span>
            </div>
            <span id="cart-total" class="font-bold text-lg">R$ 0,00</span>
        </button>
    </div>

    <div id="overlay" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] hidden"></div>
    <div id="drawer"
        class="fixed bottom-0 left-0 right-0 bg-white rounded-t-[32px] z-[70] p-6 transform translate-y-full transition-transform duration-300 max-w-2xl mx-auto shadow-2xl overflow-y-auto max-h-[90vh]">
        <div class="w-12 h-1.5 bg-gray-200 rounded-full mx-auto mb-6"></div>
        <h2 class="text-2xl font-bold text-gray-800 mb-6">Meu Pedido</h2>

        <div id="cart-items" class="space-y-4 mb-6"></div>

        <div class="mb-6 space-y-4">
            <div>
                <label class="text-sm font-bold text-gray-700 ml-1">üìç Local de Entrega / Retirada</label>
                <select id="bairro-entrega" onchange="atualizarTaxaEntrega()"
                    class="w-full mt-2 p-4 bg-gray-100 rounded-2xl text-sm border-none focus:ring-2 focus:ring-[#F26419] font-medium text-gray-700">
                    <option value="">Selecione o bairro ou retirada...</option>
                    <option value="Centro">Centro - R$ 5,00</option>
                    <option value="Bairro Norte">Bairro Norte - R$ 7,00</option>
                    <option value="Bairro Sul">Bairro Sul - R$ 8,50</option>
                    <option value="Retirada no Local">Vou retirar na loja - Gr√°tis</option>
                </select>
            </div>

            <div>
                <label class="text-sm font-bold text-gray-700 ml-1">üè† Endere√ßo Completo</label>
                <textarea id="endereco-cliente" rows="2"
                    class="w-full mt-2 p-4 bg-gray-100 rounded-2xl text-sm border-none focus:ring-2 focus:ring-[#F26419]"
                    placeholder="Ex: Rua das Flores, 123 - Bloco 2 Ap 10"></textarea>
            </div>
        </div>

        <div class="mb-6">
            <label class="text-sm font-bold text-gray-700 ml-1">üí≥ Forma de Pagamento</label>
            <select id="forma-pagamento"
                class="w-full mt-2 p-4 bg-gray-100 rounded-2xl text-sm border-none focus:ring-2 focus:ring-[#F26419] font-medium text-gray-700">
                <option value="Pix">Pix (Pagamento na entrega ou chat)</option>
                <option value="Cart√£o de Cr√©dito/D√©bito">Cart√£o (Levamos a maquininha)</option>
                <option value="Dinheiro">Dinheiro</option>
            </select>
        </div>

        <div class="space-y-2 py-4 border-t border-gray-100">
            <div class="flex justify-between items-center text-sm">
                <span class="text-gray-500">Subtotal</span>
                <span id="subtotal-valor" class="text-gray-700 font-medium">R$ 0,00</span>
            </div>
            <div class="flex justify-between items-center text-sm">
                <span class="text-gray-500">Taxa de Entrega</span>
                <span id="taxa-valor" class="text-gray-700 font-medium">R$ 0,00</span>
            </div>
            <div class="flex justify-between items-center pt-2">
                <span class="text-gray-800 font-bold text-lg">Total do Pedido</span>
                <span id="drawer-total" class="text-2xl font-bold text-[#F26419]">R$ 0,00</span>
            </div>
        </div>

        <button onclick="enviarWhatsApp()"
            class="w-full bg-green-600 text-white p-5 rounded-2xl font-bold text-lg shadow-lg active:scale-95 transition-transform flex items-center justify-center gap-2">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path
                    d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
            </svg>
            Finalizar pelo WhatsApp
        </button>
    </div>

    <script>
        let carrinho = [];
        let total = 0;

        // 1. FUNCIONALIDADES DE UI
        function filtrarProdutos() {
            const filter = document
                .getElementById("search-input")
                .value.toLowerCase();
            const cards = document.querySelectorAll(".product-card");
            cards.forEach((card) => {
                const nome = card
                    .querySelector(".product-name")
                    .innerText.toLowerCase();
                card.style.display = nome.includes(filter) ? "" : "none";
            });
        }

        function verificarStatusLoja() {
            const agora = new Date();
            const horaAtual = agora.getHours();
            const minutoAtual = agora.getMinutes();

            // Converte a hora atual para minutos totais do dia
            const tempoAtualEmMinutos = horaAtual * 60 + minutoAtual;

            // Define os hor√°rios de abrir e fechar em minutos
            const minutosAbrir = 18 * 60 + 1; // 18:01
            const minutosFechar = 23 * 60 + 0; // 23:00

            const container = document.getElementById("status-container");
            const texto = document.getElementById("status-texto");
            const ponto = document.getElementById("status-ponto");

            // Compara se o tempo atual est√° entre o abrir e o fechar
            const lojaAberta =
                tempoAtualEmMinutos >= minutosAbrir &&
                tempoAtualEmMinutos < minutosFechar;

            if (lojaAberta) {
                container.className =
                    "flex items-center justify-center gap-1.5 bg-green-100 px-3 py-1 rounded-full mt-1 w-max mx-auto";
                texto.innerText = "Aberto agora";
                ponto.className = "w-2 h-2 rounded-full animate-pulse bg-green-500";
            } else {
                container.className =
                    "flex items-center justify-center gap-1.5 bg-red-100 px-3 py-1 rounded-full mt-1 w-max mx-auto";
                texto.innerText = "Fechado agora";
                ponto.className = "w-2 h-2 rounded-full bg-red-500";
            }

            // Retorna o status para caso voc√™ queira usar em outras partes do c√≥digo
            return lojaAberta;
        }

        // 1. Executa a fun√ß√£o assim que a p√°gina carrega
        verificarStatusLoja();

        // 2. Agenda a execu√ß√£o autom√°tica a cada 30 segundos (30000 milissegundos)
        // Isso garante que o status mude exatamente √†s 17:49 ou 23:00 sem precisar de F5
        setInterval(verificarStatusLoja, 30000);

        function toggleMenuMobile() {
            document.getElementById("menu-mobile").classList.toggle("hidden");
        }
        function scrollToAnchor(id) {
            const target = document.getElementById(id);
            if (target)
                window.scrollTo({ top: target.offsetTop, behavior: "smooth" });
        }

        function scrollToAnchor(id) {
            const target = document.getElementById(id);
            if (target)
                window.scrollTo({ top: target.offsetTop, behavior: "smooth" });
        }

        function toggleDrawer() {
            document.getElementById("drawer").classList.toggle("translate-y-full");
            document.getElementById("overlay").classList.toggle("hidden");
        }


        function escolherSaborSuco(nomeBase, preco) {
            Swal.fire({
                title: 'Personalize seu Suco',
                html: `
            <div class="text-left space-y-4 p-2">
                <p class="text-[10px] font-bold text-gray-400 uppercase tracking-wider">Sabor:</p>
                <select id="sabor-suco" class="w-full p-3 bg-gray-50 rounded-xl border-none focus:ring-2 focus:ring-[#F26419] text-sm">
                    <option value="Laranja">Laranja</option>
                    <option value="Lim√£o">Lim√£o</option>
                    <option value="Morango">Morango</option>
                    <option value="Uva">Uva</option>
                </select>

                <p class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mt-4">Prefer√™ncias:</p>
                <div class="space-y-2">
                    <label class="flex items-center justify-between bg-gray-50 p-3 rounded-xl cursor-pointer">
                        <span class="text-sm">Sem A√ß√∫car</span>
                        <input type="checkbox" id="sem-acucar" class="w-5 h-5 accent-[#F26419]">
                    </label>
                    <label class="flex items-center justify-between bg-gray-50 p-3 rounded-xl cursor-pointer">
                        <span class="text-sm">Sem Gelo</span>
                        <input type="checkbox" id="sem-gelo" class="w-5 h-5 accent-[#F26419]">
                    </label>
                </div>
            </div>
        `,
                showCancelButton: true,
                confirmButtonText: 'Adicionar √† Sacola',
                confirmButtonColor: '#F26419',
                cancelButtonText: 'Cancelar',
                preConfirm: () => {
                    return {
                        sabor: document.getElementById('sabor-suco').value,
                        semAcucar: document.getElementById('sem-acucar').checked,
                        semGelo: document.getElementById('sem-gelo').checked
                    }
                }
            }).then((result) => {
                if (result.isConfirmed) {
                    const op = result.value;
                    let detalhes = [];

                    detalhes.push(op.sabor);
                    if (op.semAcucar) detalhes.push("Sem A√ß√∫car");
                    if (op.semGelo) detalhes.push("Sem Gelo");

                    // Formata o nome: Suco Natural (Laranja/Sem A√ß√∫car)
                    const nomeFinal = `${nomeBase} (${detalhes.join(' / ')})`;

                    adicionarAoCarrinho(nomeFinal, preco);
                }
            });
        }

        // 2. L√ìGICA DO CARRINHO
        function adicionarAoCarrinho(nome, preco) {
            carrinho.push({ nome, preco });
            total += preco;
            atualizarInterface();
            document.getElementById("cart-bar").classList.remove("hidden");
        }

        function removerDoCarrinho(index) {
            // Subtrai o valor do item removido do total geral de produtos
            total -= carrinho[index].preco;

            // Remove o item do array
            carrinho.splice(index, 1);

            // Se o carrinho ficar vazio, escondemos a barra preta flutuante
            if (carrinho.length === 0) {
                const cartBar = document.getElementById("cart-bar");
                if (cartBar) cartBar.classList.add("hidden");

                // Opcional: fechar o drawer automaticamente se estiver vazio
                // toggleDrawer(); 
            }

            // Atualiza toda a interface (Subtotal, Taxa, Total e Lista)
            atualizarInterface();
        }

        function atualizarInterface() {
            // 1. C√°lculos de valores
            const subtotal = total; // Valor apenas dos produtos
            const totalFinal = total + taxaSelecionada; // Produtos + Taxa de entrega

            // 2. Formata√ß√µes para o padr√£o R$ 0,00
            const fSubtotal = `R$ ${subtotal.toFixed(2).replace(".", ",")}`;
            const fTaxa = `R$ ${taxaSelecionada.toFixed(2).replace(".", ",")}`;
            const fTotalFinal = `R$ ${totalFinal.toFixed(2).replace(".", ",")}`;

            // 3. Atualiza os textos na tela (IDs do seu Drawer e Barra)
            document.getElementById("cart-count").innerText = carrinho.length;
            document.getElementById("cart-total").innerText = fTotalFinal; // Barra preta flutuante
            document.getElementById("drawer-total").innerText = fTotalFinal; // Total laranja no drawer

            // ATEN√á√ÉO: Verifique se estes IDs existem no seu HTML conforme a imagem anterior
            const subtotalElem = document.getElementById("subtotal-valor");
            const taxaElem = document.getElementById("taxa-valor");

            if (subtotalElem) subtotalElem.innerText = fSubtotal;
            if (taxaElem) taxaElem.innerText = fTaxa;

            // 4. Renderiza√ß√£o da lista de itens
            const container = document.getElementById("cart-items");
            if (carrinho.length === 0) {
                container.innerHTML = '<p class="text-center text-gray-400 py-4">Sua sacola est√° vazia</p>';
                return;
            }

            container.innerHTML = carrinho
                .map((item, index) => `
            <div class="flex justify-between items-center bg-gray-50 p-3 rounded-2xl border border-gray-100">
                <div>
                    <p class="text-xs font-bold text-gray-800">${item.nome}</p>
                    <p class="text-[10px] text-[#F26419] font-bold">R$ ${item.preco.toFixed(2).replace(".", ",")}</p>
                </div>
                <button onclick="removerDoCarrinho(${index})" class="text-red-400 p-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg>
                </button>
            </div>
        `).join("");
        }


        // Configura√ß√£o das taxas por bairro
        const taxasEntrega = {
            "Centro": 5.00,
            "Bairro Norte": 7.00,
            "Bairro Sul": 8.50,
            "Retirada no Local": 0.00
        };

        let taxaSelecionada = 0;

        function atualizarTaxaEntrega() {
            const select = document.getElementById('bairro-entrega');
            const bairro = select.value;

            // Pega o valor da taxa da nossa lista
            taxaSelecionada = taxasEntrega[bairro] || 0;

            // Atualiza o total
            atualizarInterface();
        }

        // 3. OPCIONAIS
        function abrirOpcionais(nome, precoBase) {
            Swal.fire({
                title: `<span class="text-base">${nome}</span>`,
                html: `
                    <div class="text-left space-y-3 p-2">
                        <p class="text-[10px] font-bold text-gray-400 uppercase">Adicionais:</p>
                        <label class="flex items-center justify-between bg-gray-50 p-3 rounded-xl cursor-pointer">
                            <span class="text-sm">ü•ì Bacon (+ R$ 5,00)</span>
                            <input type="checkbox" id="extra-bacon" class="w-5 h-5 accent-[#F26419]">
                        </label>
                        <label class="flex items-center justify-between bg-gray-50 p-3 rounded-xl cursor-pointer">
                            <span class="text-sm">üßÄ Cheddar (+ R$ 4,00)</span>
                            <input type="checkbox" id="extra-cheddar" class="w-5 h-5 accent-[#F26419]">
                        </label>
                    </div>`,
                showCancelButton: true,
                confirmButtonText: "Adicionar",
                confirmButtonColor: "#F26419",
                preConfirm: () => {
                    return {
                        bacon: document.getElementById("extra-bacon").checked,
                        cheddar: document.getElementById("extra-cheddar").checked,
                    };
                },
            }).then((result) => {
                if (result.isConfirmed) {
                    let p = precoBase;
                    let ex = [];
                    if (result.value.bacon) {
                        p += 5;
                        ex.push("Bacon");
                    }
                    if (result.value.cheddar) {
                        p += 4;
                        ex.push("Cheddar");
                    }
                    adicionarAoCarrinho(
                        ex.length > 0 ? `${nome} (+${ex.join("/")})` : nome,
                        p,
                    );
                }
            });
        }

        function abrirOpcionaisSobremesa(nome, precoBase) {
            Swal.fire({
                title: `<span class="text-base">${nome}</span>`,
                html: `<div class="text-left p-2"><label class="flex items-center justify-between bg-gray-50 p-3 rounded-xl"><span class="text-sm">üç´ Calda Extra (+ R$ 3,00)</span><input type="checkbox" id="extra-calda" class="w-5 h-5 accent-[#F26419]"></label></div>`,
                showCancelButton: true,
                confirmButtonText: "Adicionar",
                confirmButtonColor: "#F26419",
                preConfirm: () => {
                    return { calda: document.getElementById("extra-calda").checked };
                },
            }).then((result) => {
                if (result.isConfirmed) {
                    let p = precoBase;
                    if (result.value.calda) {
                        p += 3;
                        nome += " (c/ Calda)";
                    }
                    adicionarAoCarrinho(nome, p);
                }
            });
        }

        // 4. FINALIZA√á√ÉO
        function enviarWhatsApp() {
            const end = document.getElementById("endereco-cliente").value;
            const bairro = document.getElementById("bairro-entrega").value;
            const pagamento = document.getElementById("forma-pagamento").value;

            // 1. Valida√ß√£o de Sacola
            if (carrinho.length === 0) {
                Swal.fire("Sacola vazia", "", "warning");
                return;
            }

            // 2. Valida√ß√£o de Bairro/Entrega
            if (!bairro) {
                Swal.fire("Selecione o Bairro", "Informe se √© entrega ou retirada", "warning");
                return;
            }

            // 3. Valida√ß√£o de Endere√ßo (apenas se n√£o for retirada)
            if (bairro !== "Retirada no Local" && !end.trim()) {
                Swal.fire("Informe o endere√ßo", "Precisamos do endere√ßo para a entrega", "warning");
                return;
            }

            // 4. Montagem da Mensagem
            let msg = `*üçî NOVO PEDIDO*\n`;
            msg += `--------------------------\n`;

            msg += carrinho
                .map((i) => `‚úÖ ${i.nome} - R$ ${i.preco.toFixed(2).replace('.', ',')}`)
                .join("\n");

            msg += `\n--------------------------\n`;
            msg += `*Subtotal:* R$ ${total.toFixed(2).replace('.', ',')}\n`;
            msg += `*Taxa (${bairro}):* R$ ${taxaSelecionada.toFixed(2).replace('.', ',')}\n`;
            msg += `*TOTAL: R$ ${(total + taxaSelecionada).toFixed(2).replace('.', ',')}*\n`;
            msg += `--------------------------\n\n`;

            msg += `üí≥ *PAGAMENTO:* ${pagamento}\n`;

            if (bairro === "Retirada no Local") {
                msg += `üìç *OP√á√ÉO:* RETIRADA NO LOCAL`;
            } else {
                msg += `üìç *ENDERE√áO:* ${end}`;
            }

            // 5. Envio
            window.open(
                `https://wa.me/5581997769927?text=${encodeURIComponent(msg)}`,
                "_blank"
            );

            // 6. Limpeza e Reset
            carrinho = [];
            total = 0;
            taxaSelecionada = 0; // Reseta a taxa
            document.getElementById("endereco-cliente").value = "";
            document.getElementById("bairro-entrega").value = ""; // Reseta o seletor

            atualizarInterface();
            toggleDrawer();
            document.getElementById("cart-bar").classList.add("hidden");

            Swal.fire("Pedido Enviado!", "Aguarde nosso contato.", "success");
        }

        window.onload = verificarStatusLoja;
        document.getElementById("overlay").onclick = toggleDrawer;
    </script>

    <footer class="bg-white border-t border-gray-100 pt-10 pb-28 px-6 mt-10">
        <div class="max-w-2xl mx-auto text-center">
            <h3 class="text-xl font-bold text-gray-800">FastMenuüçî</h3>
            <p class="text-gray-500 text-sm mt-2">O melhor lanche da regi√£o, feito com amor.</p>

            <div class="flex justify-center gap-6 mt-6">
                <a href="#" class="bg-gray-50 p-3 rounded-full hover:bg-pink-50 transition-colors">
                    <svg class="w-6 h-6 text-pink-600" fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                    </svg>
                </a>
                
            </div>

            <div class="mt-8 p-4 bg-gray-50 rounded-2xl inline-block">
                <p class="text-[11px] font-bold text-gray-400 uppercase tracking-widest">Hor√°rio de Funcionamento</p>
                <p class="text-sm text-gray-700 mt-1 font-medium">Todos os dias: <span class="text-[#F26419]">17:49 √†s
                        23:00</span></p>
            </div>

            <p class="text-gray-400 text-[10px] mt-10 uppercase tracking-tighter">
                &copy; 2026 FastMenu - Desenvolvido por Marcos Oliveira.
            </p>
        </div>
    </footer>
</body>

</html>